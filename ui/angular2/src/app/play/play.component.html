<app-status [black]="state.black" [white]="state.white"
  [currentPlayer]="state.currentPlayer.man">
</app-status>

<div id="scene">
  <div id="board">
    
    <app-junction #j *ngFor="let junction of boardDefinition['MODEL_JUNCTION']"
      [x]="junction.translation.x"
      [y]="junction.translation.y"
      [id]="junction.id"
      [board]="BOARD_ID"
      [state]="boardState[junction.id]"
      (window:resize)="j.onResize()"
      (click)="j.onClick(state.currentPlayer.man, state.currentPlayer.currentState)">
    </app-junction>

    <app-connector #c *ngFor="let connector of boardDefinition['MODEL_CONNECTOR']; let i = index"
      [x]="connector.translation.x"
      [y]="connector.translation.y"
      [id]="'connector-' + i"
      [length]="connector.length"
      [rotation]="connector.rotation"
      [board]="BOARD_ID"
      (window:resize)="c.onResize()">
    </app-connector>

  </div>
  <div id="load-icon" *ngIf=playService.load>
    <img src="assets/images/loading.gif">
  </div>
  <app-instructions [message]="state?.status?.message"
  [currentPlayer]="state.currentPlayer.man" [load]="state?.load"></app-instructions>
</div>
